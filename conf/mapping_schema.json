{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "http://epadddomain.com/conf/mapping_schema.json",
    "title": "ePADD to DRS MODS/METS mapping structure",
    "type": "object",
    "properties": {
        "mapping": {
            "type": "array",
            "items": [{
                "type": "object",
                "properties": {
                    "property-type": {
                        "type": "string",
                        "description": "object or file"
                    },
                    "mapping-details": {
                        "type": "array",
                        "items": [{
                            "type": "object",
                            "properties": {
                                "epadd-file": {
                                    "type": "string",
                                    "description": "The name of the file in the ePADD export that contains the properties"
                                },
                                "mapping-values": {
                                    "type": "array",
                                    "items": [{
                                        "type": "object",
                                        "properties": {
                                            "epadd-field": {
                                                "type": "string",
                                                "description": "The name of the epadd field within the file"
                                            },
                                            "epadd-field-2": {
                                                "type": "string",
                                                "description": "Optional name of the second epadd field within the file to be formatted with this field"
                                            },
                                            "bb-field": {
                                                "type": "string",
                                                "description": "The name of the Batch Builder field to be mapped to"
                                            },
                                            "label": {
                                                "type": "string",
                                                "description": "Optional label to prefix to the value"
                                            },
                                            "value_field": {
                                                "type": "string",
                                                "description": "Optional value field that is a child value to the epadd-field.  If not present, the epadd-field value will be used. Only used when the epadd-field in the json file has subfields."
                                            },
                                            "conditional": {
                                                "type": "string",
                                                "description": "Optional conditional statement that is about the epadd field's child value. Only used when the epadd-field in the json file has subfields."
                                            },
                                            "date-format-field": {
                                                "type": "string",
                                                "description": "Optional date format of the data for the epadd-field."
                                            },
                                            "date-format-field-2": {
                                                "type": "string",
                                                "description": "Optional date format of the data for the epadd-field-2."
                                            },
                                            "concatenation-delimiter": {
                                                "type": "string",
                                                "description": "Optional delimiter to separate the epadd-field and epadd-field-2 "
                                            }
                                        },
                                        "required": [
                                            "epadd-field",
                                            "bb-field"
                                        ]
                                    }]
                                }
                            },
                            "required": [
                                "epadd-file",
                                "mapping-values"
                            ]
                        }]
                    }
                },
                "required": [
                    "property-type",
                    "mapping-details"
                ]
            }]
        }
    }
}